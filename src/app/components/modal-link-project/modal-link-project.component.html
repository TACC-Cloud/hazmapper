<app-file-browser
  [single]=single
  [allowFolders]=allowFolders
  [allowedExtensions]=allowedExtensions
  [onlyFolder]=onlyFolder
  [heading]="'Select Export Location'"
  [helpText]="'If no folder is selected, the file will be exported to the root of the selected system.' +
           'If you select a project, you can link the current map to the project.'"
  (selection)="onSelect($event)"
  (systemSelection)="onSystemSelect($event)">
</app-file-browser>

<div class="link-project">
  <label>
    <span [ngClass]="{dimmed: linkCheckbox.disabled}">Link Project</span>
    <input #linkCheckbox type="checkbox"
           [disabled]="this.selectedSystem && !this.selectedSystem.id.includes('project')"
           [(ngModel)]="linkProject">
  </label>
  <div *ngIf="linkCheckbox.disabled">
    <small><em>Must be in a project folder to link!</em></small>
  </div>
</div>

<div>
    <button class="button warning" (click)="cancel()">Cancel</button>
    <button class="button" [disabled]="!selectedFiles.length && !allowEmptyFiles" (click)="close()">Import</button>
</div>
