<div class="dock-panel">
  <div class="dock-panel-header">
    <span class="dock-panel-title"> Team Members </span>
  </div>

  <div class="dock-panel-content">
    <div>
      <form [formGroup]="addUserForm" (ngSubmit)="addUser()">
        <input type="text" formControlName="username" required="true">
        <button class="button success" type="submit" [disabled]="!addUserForm.valid">Add</button>
      </form>
    </div>
    <h4> Current Members </h4>
    <app-user-row [user]="user" *ngFor="let user of projectUsers"></app-user-row>
    <div class="">
      <h4> Map </h4>
      <h6>Name:</h6>
      <div id=project-container>
        <div id=subproject-container >
          <div id=project-name
               data-tooltip
               tabindex="1"
               title="{{activeProject.name}}"
               data-position="top"
               data-alignment="left"
               *ngIf="!nameInputShown"
               (dblclick)=showNameInput()>
            {{activeProject.name}}
          </div>
          <input #activeProjectName
                 id=project-name-input
                 type="text"
                 *ngIf="nameInputShown"
                 (blur)="onEnterName(activeProjectName.value)"
                 (keyup.enter)="onEnterName(activeProjectName.value)">
        </div>
        <i class="fas fa-edit" style="margin: auto" (click)="showNameInput()" *ngIf="!nameInputShown"></i>
        <i class="fas fa-check" style="margin: auto" (click)="hideNameInput()" *ngIf="nameInputShown"></i>
      </div>
      <div class="display-error" *ngIf="nameInputError">
        {{nameErrorMessage}}
      </div>

      <h6>Description:</h6>
      <div style="display: flex; justify-content: space-between">
        <div style="display: inline-block; width: 100%">
          <div id=project-description
               *ngIf="!descriptionInputShown"
               (dblclick)=showDescriptionInput()>
            {{activeProject.description}}
          </div>
          <textarea #activeProjectDescription
                    id=project-description-input
                    type="text"
                    style="resize: none; height: 300px"
                    *ngIf="descriptionInputShown"
                    (blur)="onEnterDescription(activeProjectDescription.value)"
                    (keyup.enter)="onEnterDescription(activeProjectDescription.value)">
          </textarea>
        </div>
        <i class="fas fa-edit" (click)="showDescriptionInput()" *ngIf="!descriptionInputShown"></i>
        <i class="fas fa-check" (click)="hideDescriptionInput()" *ngIf="descriptionInputShown"></i>
      </div>
      <div class="display-error" *ngIf="descriptionInputError">
        {{descriptionErrorMessage}}
      </div>
      <button class="button warning alert hollow" (click)=deleteProject()>
        <i class="fas fa-trash"></i>  Delete Map
      </button>
    </div>
  </div>
</div>
